{% extends 'base.html' %}
{% load static %}
{% block title %} 피츠버그홀 {% endblock %}

{% block content %}
<div class="build-container">
    <!-- 건물이름이랑 층 정보 나오는 곳 -->
  <div class="build-informwrap">
      <div class="build-title">
          <h1> 피츠버그홀 </h1>
      </div>
  </div>
    
    <!-- 층별로 정보나오도록 -->
    <div class="build-lectureinfo-wrap">
      <div class="floorinfo" id="floor-first">
          <h2>1층</h2>
      </div>

      <div class="lectureinfo-container">
        
        {% for rooms in rooms_list %}
        {% if rooms.floor == 1 %}
          <a href="{% url 'classroom' rooms.room rooms.id %}" class="lectureinfo-box">
            <div class="lecture-img">
              <img class="img-src" src="{{rooms.room_image.url}}" alt="{{rooms.room}}">
            </div>
            <h1>{{ rooms.room }}</h1>

            <div class="lectureinfo">
                {% if rooms.room_type == '사용가능' %}
                <div class="lecturecon poss">
                    <span>{{ rooms.room_type }}</span>
                </div>
                {% else %}
                <div class="lecturecon imposs">
                    <span>{{ rooms.room_type }}</span>
                </div>
                {% endif %}
            </div>

          </a>
        {% endif %}
        {% endfor %}
      </div>

      <div class="floorinfo" id="floor-second">
          <h2>2층</h2>
      </div>

      <h1 style="font-size: 1.7rem;">이번 학기 강의를 진행하지 않습니다. <br>
    </h1>

      <div class="floorinfo" id="floor-third">
        <h2>3층</h2>
      </div>

      <div class="lectureinfo-container">
        
        {% for rooms in rooms_list %}
        {% if rooms.floor == 3 %}
          <a href="{% url 'classroom' rooms.room rooms.id %}" class="lectureinfo-box">
            <div class="lecture-img">
              <img class="img-src" src="{{rooms.room_image.url}}" alt="{{rooms.room}}">
            </div>
            <h1>{{ rooms.room }}</h1>

            <div class="lectureinfo">
                {% if rooms.room_type == '사용가능' %}
                <div class="lecturecon poss">
                    <span>{{ rooms.room_type }}</span>
                </div>
                {% else %}
                <div class="lecturecon imposs">
                    <span>{{ rooms.room_type }}</span>
                </div>
                {% endif %}
            </div>

          </a>
        {% endif %}
        {% endfor %}
      </div>

      <div class="floorinfo fourth" id="floor-fourth">
        <h2>4층</h2>
      </div>

      <h1 style="font-size: 1.7rem;">이번 학기 강의를 진행하지 않습니다. <br>
      </h1>

    </div>
    <div class="floor-anchor">
      <ul>
        <li class="floanchor"><button type="button" onclick="icontoggle()"><i id="icon" class="fa-solid fa-xmark"></i></button></li>
        <li class="floor active fade-in-bottom"><a href="#floor-first">1</a></li>
        <li class="floor active fade-in-bottom"><a href="#floor-second">2</a></li>
        <li class="floor active fade-in-bottom"><a href="#floor-third">3</a></li>
        <li class="floor active fade-in-bottom" ><a href="#floor-fourth">4</a></li>
      </ul>

    </div>
</div>

<script>
// 층 클릭하는 곳
var stairs = document.getElementById("icon");
var floor = document.getElementsByClassName("floor");
var floanchor = document.getElementsByClassName("floanchor")[0];
function icontoggle(){
  stairs.classList.toggle("fa-xmark");
  stairs.classList.toggle("fa-stairs");
  for(i=floor.length-1;i >= 0; i--){
    floor[i].classList.toggle("active");
  }

}
</script>

<script src="{% static 'js/modal.js' %}"></script>

{% endblock %} 


<!-- 사용가능/불가 필터를 위함 -->
<br>
{% for rooms in rooms_access %}
    <a href="{% url 'classroom' rooms.room rooms.id %}">
        <img src="{{rooms.room_image.url}}" alt="{{rooms.room}}" style="width: 300px; height: 200px;" />
        {{ rooms.room }} {{rooms.type}} {{ rooms.room_type }} <br>
    </a>
{% endfor %}
<br>
{% for rooms in rooms_unaccess %}
    <a href="{% url 'classroom' rooms.room rooms.id %}">
        <img src="{{rooms.room_image.url}}" alt="{{rooms.room}}" style="width: 300px; height: 200px;" />
        {{ rooms.room }} {{rooms.type}} {{ rooms.room_type }} <br>
    </a>
{% endfor %}